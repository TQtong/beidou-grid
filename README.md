# åŒ—æ–—ç½‘æ ¼ä½ç½®ç¼–ç å¯è§†åŒ–ç³»ç»Ÿ

åŸºäº Vue 3 + TypeScript + Cesium çš„åŒ—æ–—ç½‘æ ¼ä½ç½®ç¼–ç ï¼ˆBeiDou Grid Location Codecï¼‰ä¸‰ç»´å¯è§†åŒ–ç³»ç»Ÿã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®å®ç°äº†åŒ—æ–—ç½‘æ ¼ä½ç½®ç¼–ç çš„äºŒç»´å’Œä¸‰ç»´å¯è§†åŒ–åŠŸèƒ½ï¼Œæ”¯æŒå¤šå±‚çº§ç½‘æ ¼åˆ’åˆ†ã€é«˜ç¨‹ç¼–ç ã€èŒƒå›´æŸ¥è¯¢ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚ç³»ç»Ÿé‡‡ç”¨ç°ä»£åŒ–çš„å‰ç«¯æŠ€æœ¯æ ˆï¼Œæä¾›ç›´è§‚çš„ä¸‰ç»´åœ°ç†ä¿¡æ¯å±•ç¤ºç•Œé¢ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- **äºŒç»´ç½‘æ ¼ç¼–ç **ï¼šæ”¯æŒ1-10çº§åŒ—æ–—äºŒç»´ç½‘æ ¼ä½ç½®ç¼–ç 
- **ä¸‰ç»´ç½‘æ ¼ç¼–ç **ï¼šé›†æˆé«˜ç¨‹ä¿¡æ¯çš„åŒ—æ–—ä¸‰ç»´ç½‘æ ¼ä½ç½®ç¼–ç 
- **ä¸‰ç»´å¯è§†åŒ–**ï¼šåŸºäº Cesium çš„é«˜æ€§èƒ½ä¸‰ç»´åœ°çƒæ¸²æŸ“
- **äº¤äº’å¼æ“ä½œ**ï¼šæ”¯æŒç½‘æ ¼å‚æ•°è°ƒæ•´ã€èŒƒå›´æŸ¥è¯¢ç­‰äº¤äº’åŠŸèƒ½
- **å¤šå±‚çº§æ”¯æŒ**ï¼šä»6Â°Ã—4Â°åˆ°1/2048â€³Ã—1/2048â€³çš„10çº§ç½‘æ ¼ç²¾åº¦
- **é«˜ç¨‹ç¼–ç **ï¼šæ”¯æŒå¤§åœ°é«˜åº¦çš„é«˜ç²¾åº¦ç¼–ç å’Œè§£ç 

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**ï¼šVue 3 + TypeScript
- **æ„å»ºå·¥å…·**ï¼šVite
- **ä¸‰ç»´æ¸²æŸ“**ï¼šCesium
- **UIç»„ä»¶**ï¼šElement Plus
- **æ•°å­¦è®¡ç®—**ï¼šDecimal.js, Math.js
- **å‡ ä½•è®¡ç®—**ï¼šJSTS (Java Topology Suite for JavaScript)
- **æ—¶é—´å¤„ç†**ï¼šMoment.js

## ğŸ“¦ æ ¸å¿ƒä¾èµ–

```json
{
  "cesium": "^1.133.1",
  "decimal.js": "^10.6.0",
  "element-plus": "^2.11.4",
  "jsts": "^2.12.1",
  "mathjs": "^14.8.2",
  "moment": "^2.30.1",
  "vue": "^3.5.21"
}
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 7.0.0

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

```bash
npm run preview
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ plugins/           # æ ¸å¿ƒç¼–ç è§£ç æ’ä»¶
â”‚   â”œâ”€â”€ codec-2d.ts   # äºŒç»´ç½‘æ ¼ç¼–ç 
â”‚   â”œâ”€â”€ codec-3d.ts   # ä¸‰ç»´ç½‘æ ¼ç¼–ç 
â”‚   â”œâ”€â”€ data.ts       # æ•°æ®ç®¡ç†
â”‚   â””â”€â”€ type.ts       # ç±»å‹å®šä¹‰
â”œâ”€â”€ plugins1/         # åŒ—æ–—ç½‘æ ¼æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ BeiDouGrid2D.ts           # äºŒç»´ç½‘æ ¼ç±»
â”‚   â”œâ”€â”€ BeiDouGrid3D.ts           # ä¸‰ç»´ç½‘æ ¼ç±»
â”‚   â”œâ”€â”€ BeiDouGridConstants.ts    # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ BeiDouGridUtils.ts        # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ ...                       # å…¶ä»–æ ¸å¿ƒç»„ä»¶
â”œâ”€â”€ App.vue           # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ index.ts          # ä¸»å…¥å£æ–‡ä»¶
â””â”€â”€ main.ts           # åº”ç”¨å¯åŠ¨æ–‡ä»¶
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½è¯´æ˜

### ç½‘æ ¼åˆ†çº§ç³»ç»Ÿ

ç³»ç»Ÿæ”¯æŒ10çº§ç½‘æ ¼ç²¾åº¦ï¼Œä»ç²—åˆ°ç»†ï¼š

| çº§åˆ« | ç½‘æ ¼å°ºå¯¸ | ç²¾åº¦æè¿° |
|------|----------|----------|
| 1çº§  | 6Â°Ã—4Â°    | å¤§åŒºåŸŸç½‘æ ¼ |
| 2çº§  | 30â€²Ã—30â€²  | ä¸­ç­‰ç²¾åº¦ |
| 3çº§  | 15â€²Ã—10â€²  | é«˜ç²¾åº¦ |
| 4çº§  | 1â€²Ã—1â€²    | è¶…é«˜ç²¾åº¦ |
| 5çº§  | 4â€³Ã—4â€³    | æé«˜ç²¾åº¦ |
| ...  | ...      | ...      |
| 10çº§ | 1/2048â€³Ã—1/2048â€³ | æœ€é«˜ç²¾åº¦ |

### ç¼–ç åŠŸèƒ½

- **äºŒç»´ç¼–ç **ï¼šç»çº¬åº¦åæ ‡è½¬æ¢ä¸ºåŒ—æ–—ç½‘æ ¼ç 
- **ä¸‰ç»´ç¼–ç **ï¼šç»çº¬åº¦+é«˜ç¨‹åæ ‡è½¬æ¢ä¸ºåŒ—æ–—ä¸‰ç»´ç½‘æ ¼ç 
- **å‚ç…§ç¼–ç **ï¼šæ”¯æŒç›¸å¯¹ä½ç½®ç¼–ç ï¼Œå‡å°‘ç é•¿
- **è§£ç åŠŸèƒ½**ï¼šç½‘æ ¼ç åå‘è§£æä¸ºåœ°ç†åæ ‡

### å¯è§†åŒ–åŠŸèƒ½

- **ä¸‰ç»´åœ°çƒ**ï¼šåŸºäºCesiumçš„å…¨çƒä¸‰ç»´åœ°å½¢æ¸²æŸ“
- **ç½‘æ ¼æ˜¾ç¤º**ï¼šå¤šå±‚çº§ç½‘æ ¼çš„ä¸‰ç»´å¯è§†åŒ–
- **äº¤äº’æ§åˆ¶**ï¼šæ”¯æŒç¼©æ”¾ã€æ—‹è½¬ã€å¹³ç§»ç­‰æ“ä½œ
- **å‚æ•°è°ƒæ•´**ï¼šå®æ—¶è°ƒæ•´ç½‘æ ¼å‚æ•°å’Œæ˜¾ç¤ºèŒƒå›´

## ğŸ”§ ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ç”¨æ³•

```typescript
import { init, createGrid } from './index'

// åˆå§‹åŒ–Cesiumåœºæ™¯
const viewer = init(containerElement)

// åˆ›å»ºç½‘æ ¼
createGrid(
  stepHeight,    // é«˜åº¦æ­¥é•¿
  gridSize,      // ç½‘æ ¼å°ºå¯¸çº§åˆ«
  maxHeight,     // æœ€å¤§é«˜åº¦
  {
    west: 97.31,   // è¥¿ç»
    south: 21.08,  // å—çº¬
    east: 106.11,  // ä¸œç»
    north: 29.15   // åŒ—çº¬
  }
)
```

### ç¼–ç ç¤ºä¾‹

```typescript
import Codec2D from './plugins/codec-2d'
import Codec3D from './plugins/codec-3d'

// äºŒç»´ç¼–ç 
const lngLat = {
  lngDegree: 116.391,
  latDegree: 39.913
}
const code2d = Codec2D.encode(lngLat, 10)

// ä¸‰ç»´ç¼–ç 
const lngLatEle = {
  lngDegree: 116.391,
  latDegree: 39.913,
  elevation: 100
}
const code3d = Codec3D.encode(lngLatEle, 6378137, 2)
```

## ğŸ“š ç›¸å…³èµ„æº

- **æ ¸å¿ƒåº“**ï¼š
  - [beidou-grid-location-codec](https://github.com/CN-Shopkeeper/beidou-grid-location-codec)
  - [BeidouGridCodec](https://github.com/ywx001/BeidouGridCodec)

- **æŠ€æœ¯æ–‡æ¡£**ï¼š
  - [Vue 3 å®˜æ–¹æ–‡æ¡£](https://v3.vuejs.org/)
  - [Cesium å®˜æ–¹æ–‡æ¡£](https://cesium.com/docs/)
  - [Element Plus æ–‡æ¡£](https://element-plus.org/)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›é¡¹ç›®ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT è®¸å¯è¯](LICENSE) å¼€æºã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ Issue
- å‘é€é‚®ä»¶

---

**æ³¨æ„**ï¼šæœ¬é¡¹ç›®åŸºäºåŒ—æ–—ç½‘æ ¼ä½ç½®ç¼–ç æ ‡å‡†å®ç°ï¼Œé€‚ç”¨äºåœ°ç†ä¿¡æ¯ç³»ç»Ÿã€ä½ç½®æœåŠ¡ç­‰ç›¸å…³åº”ç”¨åœºæ™¯ã€‚